<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.3.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Gamja+Flower&family=Jua&family=Lobster&family=Nanum+Pen+Script&family=Single+Day&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">
<style>
    body, body *{
         font-family: 'Single Day';
     }

     .foodsrc{
            width: 60px;
            height: 60px;
            cursor: pointer;
            border-radius: 1px;
            border: 1px solid gray;
        }
 </style>
    <script>
        $(function(){
            $("img.foodsrc").click(function(){

                // 사진 얻어서 modal 에 사진을 넣기 

                let imgsrc=$(this).attr("src");
                $("img.food_src").attr("src",imgsrc);
                
                let  foodprice=$(this).parent().prev().text();
                let foodname=$(this).parent().prev().prev().text();
                $(".modal_title").text(`${foodprice} ${foodname}`);

                // $(".modal_title").append(foodname);
               
            });
        });
    </script>

</head>
<body>
<!-- The Modal -->
<div class="modal fade" id="myModal">
    <div class="modal-dialog">
      <div class="modal-content">
  
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">제품 상세보기</h4>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
  
        <!-- Modal body -->
        <div class="modal-body">
            <img src="" class="food_src" style="width:100%;" alt="사진 나오는 곳"
          <BR>
            <h3 class="modal_title"> </h3>
        </div>
  
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
        </div>
  
      </div>
    </div>
  </div>
  

    <h4>메뉴판</h4>
    <table class="table table-striped" style="width: 350px;">
        <thead>
            <tr bgcolor="lightskyblue">
                <th>번호</th>
                <th width="100">메뉴</th>
                <th width="100">가격</th>
                <th>메뉴사진</th>
            </tr>
        </thead>
        <tbody>

    <script>
        let food_data={
            "foodlist":[
                {"foodname":"에그 샌드위치","foodprice":"11000","foodsrc":"../image/food/1.jpg"},
                {"foodname":"닭꼬치구이","foodprice":"7800","foodsrc":"../image/food/2.jpg"},
                {"foodname":"육개장","foodprice":"12000","foodsrc":"../image/food/3.jpg"},
                {"foodname":"망고빙수","foodprice":"15000","foodsrc":"../image/food/11.jpg"},
                {"foodname":"오므라이스","foodprice":"8900","foodsrc":"../image/food/6.jpg"},
                {"foodname":"비프카레","foodprice":"19000","foodsrc":"../image/food/4.jpg"},
            ]
        };

        $.each(food_data.foodlist,function(idx,item){
            s=`
            <tr>
                <td>${idx+1}</td>
                <td>${item.foodname}</td>
                <td>${item.foodprice}</td>
                <td><img src=${item.foodsrc} class="foodsrc" data-bs-toggle="modal" data-bs-target="#myModal"></td>
            </tr>
            `

            document.write(s);

        });

        // $("img.foodsrc").click(function(){
          
        //     let foodprice=$(this).parent().prev().text();
        //     $(".modal_title").append(foodprice);
           
        //     let foodname=$(this).parent().prev().prev().text();
        //    $(".modal_title").append(foodname)
            
        //    let foodsrc=$(this).attr("src");
        //     $("img.food_src").attr("src",foodsrc);
            
           
        // });
    </script>

</tbody>

</table>
    
</body>
</html>